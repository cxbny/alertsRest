{"version":3,"sources":["scripts/app.js"],"names":["angular","module","AlertsTypeService","$http","getAlertsType","get","restUrl","then","response","lstAlertTypes","data","addAlertsType","text","post","deleteAlertsType","id","editAlertsType","alertsType","put","service","$inject","factory","AlertsService","getAlerts","lstAlerts","addAlerts","alertType","AlertsTypeTextInput","$document","$timeout","this","editing","length","focus","component","templateUrl","controller","bindings","onSave","placeholder","newAlertsType","prototype","handleBlur","handleSubmit","e","keyCode","element","AlertsTypeItem","onDestroy","handleDoubleClick","handleSave","type","handleDestroy","alertsTypeCtrl","self","lstAlertsType","handleUpdate","alertsCtrl","$uibModal","createNewAlertsCtrl","$uibModalInstance","items","ok","selectedAlert","close","cancel","dismiss","createNew","modalInstance","open","controllerAs","resolve","result","selectedItem","run","$templateCache","routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","url","config"],"mappings":"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","file":"scripts/app-677bbee06a.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('app', [\n      'ngAnimate',\n      'ngTouch',\n      'ui.router',\n      'ui.bootstrap'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .factory('AlertsTypeService', AlertsTypeService)\n    ;\n\n  //\n  // Service to get, add, edit, and delete alerts type.\n  //\n  function AlertsTypeService($http) {\n    var lstAlertTypes = [];\n\n    var restUrl = \"https://guarded-beach-57622.herokuapp.com/api/v1/alertsType\";\n    // var restUrl = \"http://localhost:5000/api/v1/alertsType\";\n\n    var service = {\n      getAlertsType: getAlertsType,\n      addAlertsType: addAlertsType,\n      deleteAlertsType: deleteAlertsType,\n      editAlertsType: editAlertsType\n    };\n\n    return service;\n\n    //////\n\n    function getAlertsType() {\n\n      return $http.get(restUrl).then(function (response) {\n        lstAlertTypes = response.data;\n        return lstAlertTypes;\n      });\n    }\n\n    function addAlertsType(text) {\n      var data = { \"text\" : text };\n\n      return $http.post(restUrl, data ).then(function (response) {\n        lstAlertTypes = response.data;\n        return lstAlertTypes;\n      });\n    }\n\n    function deleteAlertsType(id) {\n\n      return $http.delete(restUrl + '/' + id).then(function (response) {\n        lstAlertTypes = response.data;\n        return lstAlertTypes;\n      });\n    }\n\n    function editAlertsType(alertsType) {\n      var data = { \"id\": alertsType.id, \"text\": alertsType.text };\n\n      return $http.put(restUrl + '/' + alertsType.id, data).then(function (response) {\n        lstAlertTypes = response.data;\n        return lstAlertTypes;\n      });\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .factory('AlertsService', AlertsService)\n    ;\n\n  //\n  // Service to get and add alerts.\n  //\n  function AlertsService($http) {\n    var lstAlerts = [];\n\n    var restUrl = \"https://guarded-beach-57622.herokuapp.com/api/v1/alerts\";\n    // var restUrl = \"http://localhost:5000/api/v1/alerts\";\n\n    var service = {\n      getAlerts: getAlerts,\n      addAlerts: addAlerts\n    };\n\n    return service;\n\n    //////\n    function getAlerts() {\n\n      return $http.get(restUrl).then(function(response) {\n        lstAlerts = response.data;\n        return lstAlerts;\n      });\n    }\n\n    function addAlerts(text) {\n      var data = { \"alertType\" : text };\n\n      return $http.post(restUrl, data).then(function (response) {\n        lstAlerts = response.data;\n        return lstAlerts;\n      });\n    }\n\n  }\n})();\n\n(function () {\n  angular\n    .module('app')\n    .component('alertsTypeTextInput', {\n      templateUrl: 'app/components/AlertsTypeTextInput.html',\n      controller: AlertsTypeTextInput,\n      bindings: {\n        onSave: '&',\n        placeholder: '@',\n        newAlertsType: '@',\n        editing: '@',\n        text: '<'\n      }\n    });\n\n  /** @ngInject */\n  function AlertsTypeTextInput($document, $timeout) {\n\n    this.$timeout = $timeout;\n    this.$document = $document;\n\n    this.editing = this.editing || false;\n    this.text = this.text || '';\n\n    if (this.text.length) {\n      this.focus();\n    }\n  }\n\n  AlertsTypeTextInput.prototype = {\n    handleBlur: function () {\n      if (!this.newAlertsType) {\n        this.onSave({\n          text: this.text\n        });\n      }\n    },\n\n    handleSubmit: function (e) {\n      if (e.keyCode === 13) {\n\n        this.onSave({\n          text: this.text\n        });\n\n        if (this.newAlertsType) {\n          this.text = '';\n        }\n      }\n    },\n\n    focus: function () {\n      this.$timeout(function () {\n        var element = angular.element('.editing .textInput');\n        if (element) {\n          element.focus();\n        }\n      }, 0);\n    }\n  };\n})();\n\n(function () {\n  angular\n    .module('app')\n    .component('alertsTypeItem', {\n      templateUrl: 'app/components/AlertsTypeItem.html',\n      controller: AlertsTypeItem,\n      bindings: {\n        alertsType: '<',\n        onDestroy: '&',\n        onSave: '&'\n      }\n    });\n\n  function AlertsTypeItem() {\n    this.editing = false;\n  }\n\n  AlertsTypeItem.prototype = {\n    handleDoubleClick: function () {\n      this.editing = true;\n    },\n\n    handleSave: function (text) {\n      this.onSave({\n        type: {\n          text: text,\n          id: this.alertsType.id\n        }\n      });\n      this.editing = false;\n    },\n\n    handleDestroy: function (id) {\n      this.onDestroy({\n        id: id}\n      );\n    }\n  };\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .component('main', {\n      templateUrl: 'app/main.html'\n    });\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .component('alertsType', {\n      templateUrl: 'app/alertsType.html',\n      controller: alertsTypeCtrl\n    });\n\n  function alertsTypeCtrl(AlertsTypeService) {\n    var self = this;\n\n    AlertsTypeService.getAlertsType().then(function (data) {\n      self.lstAlertsType = data;\n    });\n\n    this.handleSave = function (text) {\n      // this.lstAlertsType = AlertsTypeService.addAlertsType(text);\n      AlertsTypeService.addAlertsType(text).then(function (data) {\n        self.lstAlertsType = data;\n      });\n    };\n\n    this.handleUpdate = function (type) {\n      // this.lstAlertsType = AlertsTypeService.editAlertsType(type);\n      AlertsTypeService.editAlertsType(type).then(function (data) {\n        self.lstAlertsType = data;\n      });\n    };\n\n    this.handleDestroy = function (id) {\n      // this.lstAlertsType = AlertsTypeService.deleteAlertsType(id);\n      AlertsTypeService.deleteAlertsType(id).then(function (data) {\n        self.lstAlertsType = data;\n      });\n    };\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .component('alerts', {\n      templateUrl: 'app/alerts.html',\n      controller: alertsCtrl\n    });\n\n  function alertsCtrl(AlertsService, AlertsTypeService, $uibModal) {\n    var self = this;\n\n    AlertsService.getAlerts().then(function (data) {\n      self.lstAlerts = data;\n    });\n\n    AlertsTypeService.getAlertsType().then(function (data) {\n      self.lstAlertsType = data;\n    });\n\n    this.createNew = function () {\n      var modalInstance = $uibModal.open({\n        templateUrl: 'app/components/createAlertsModal.html',\n        controller: createNewAlertsCtrl,\n        controllerAs: '$ctrl',\n        resolve: {\n          items: function () {\n            return self.lstAlertsType;\n          }\n        }\n      });\n\n      modalInstance.result.then(function (selectedItem) {\n        // $ctrl.selected = selectedItem;\n      }, function () {\n      });\n    };\n\n    function createNewAlertsCtrl($uibModalInstance, items) {\n      this.items = items;\n\n      this.ok = function (selectedAlert) {\n        // Create a new alerts\n        AlertsService.addAlerts(selectedAlert.text).then(function(data) {\n          self.lstAlerts = data;\n        });\n\n        $uibModalInstance.close();\n      };\n\n      this.cancel = function () {\n        $uibModalInstance.dismiss('cancel');\n      };\n    }\n  }\n})();\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/alerts.html\",\"<div class=\\\"container\\\">\\n  <h4>All alerts in the system</h4>\\n\\n  <button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"$ctrl.createNew()\\\">\\n    Create New\\n  </button>\\n\\n  <table class=\\\"table\\\">\\n    <thead class=\\\"thead-default\\\">\\n      <tr>\\n        <th>#</th>\\n        <th>Alert Type</th>\\n        <th>Created</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr ng-repeat=\\\"alert in $ctrl.lstAlerts\\\">\\n        <th scope=\\\"row\\\">{{ alert.id }}</th>\\n        <td>{{ alert.alertType }}</td>\\n        <td>{{ alert.created }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n\");\n$templateCache.put(\"app/alertsType.html\",\"<div class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n    <alerts-type-text-input new-alerts-type=\\\"true\\\" on-save=\\\"$ctrl.handleSave(text)\\\" placeholder=\\\"Add new alerts type\\\">\\n    </alerts-type-text-input>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n      <ul class=\\\"alerts-type-list\\\">\\n        <alerts-type-item ng-repeat=\\\"alertsType in $ctrl.lstAlertsType\\\" alerts-type=\\\"alertsType\\\" on-destroy=\\\"$ctrl.handleDestroy(id)\\\" on-save=\\\"$ctrl.handleUpdate(type)\\\">\\n        </alerts-type-item>\\n      </ul>\\n    </div>\\n  </div>\\n</div>\\n\");\n$templateCache.put(\"app/main.html\",\"<nav class=\\\"navbar navbar-default\\\" role=\\\"navigator\\\">\\n  <div class=\\\"container\\\">\\n    <!-- Brand and toggle get grouped for better mobile display -->\\n    <div class=\\\"navbar-header\\\">\\n      <button type=\\\"button\\\" class=\\\"navbar-toggle\\\">\\n        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n        <span class=\\\"icon-bar\\\"></span>\\n        <span class=\\\"icon-bar\\\"></span>\\n        <span class=\\\"icon-bar\\\"></span>\\n      </button>\\n      <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Alerts Management System</a>\\n    </div>\\n\\n    <ul class=\\\"nav navbar-nav\\\">\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"main.alertsType\\\">Alerts Type</a></li>\\n      <li ui-sref-active=\\\"active\\\"><a ui-sref=\\\"main.alerts\\\">Alerts</a></li>\\n    </ul>\\n  </div>\\n</nav>\\n\\n<div ui-view></div>\\n\");\n$templateCache.put(\"app/components/AlertsTypeItem.html\",\"<li ng-class=\\\"{ \\'editing\\': $ctrl.editing }\\\">\\n  <alerts-type-text-input ng-if=\\\"$ctrl.editing\\\" new-alerts-type=\\\"false\\\" text=\\\"$ctrl.alertsType.text\\\" editing=\\\"$ctrl.editing\\\" on-save=\\\"$ctrl.handleSave(text)\\\">\\n  </alerts-type-text-input>\\n  <div class=\\\"view\\\" ng-if=\\\"!$ctrl.editing\\\">\\n    <label ng-dblclick=\\\"$ctrl.handleDoubleClick()\\\">{{$ctrl.alertsType.text}}</label>\\n    <button class=\\\"destroy\\\" ng-click=\\\"$ctrl.handleDestroy($ctrl.alertsType.id)\\\"></button>\\n  </div>\\n</li>\\n\");\n$templateCache.put(\"app/components/AlertsTypeTextInput.html\",\"<input class=\\\"textInput\\\" ng-class=\\\"{\\'edit\\': $ctrl.editing, \\'new-alerts-type\\': $ctrl.newAlertsType}\\\" ng-model=\\\"$ctrl.text\\\" ng-keypress=\\\"$ctrl.handleSubmit($event)\\\" ng-blur=\\\"$ctrl.handleBlur()\\\" placeholder=\\\"{{$ctrl.placeholder}}\\\" type=\\\"text\\\">\\n\");\n$templateCache.put(\"app/components/createAlertsModal.html\",\"<div class=\\\"modal-header\\\">\\n  <h3 class=\\\"modal-title\\\" id=\\\"modal-title\\\">Create a new alerts</h3>\\n</div>\\n<div class=\\\"modal-body\\\" id=\\\"modal-body\\\">\\n  <form>\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"exampleInputEmail1\\\">Alerts Type</label>\\n      <select class=\\\"form-control\\\" ng-model=\\\"selectedAlert\\\" ng-options=\\\"choice.text for choice in $ctrl.items\\\">\\n      </select>\\n    </div>\\n  </form>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n  <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.ok(selectedAlert)\\\">Create Alert</button>\\n  <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.cancel()\\\">Cancel</button>\\n</div>\\n\");}]);\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .config(routesConfig);\n\n  /** @ngInject */\n  function routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n    $locationProvider.html5Mode(true).hashPrefix('!');\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n      .state('main', {\n        url: '/',\n        component: 'main'\n      })\n      .state('main.alertsType', {\n        url: 'alertsType',\n        component: 'alertsType'\n      })\n      .state('main.alerts', {\n        url: 'alerts',\n        component: 'alerts'\n      })\n      ;\n  }\n})();\n"],"sourceRoot":"/source/"}